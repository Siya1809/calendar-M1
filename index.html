<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Calendrier Master 1</title>
    <meta name="description" content="Calendrier d'examens Master 1 - CC, Examens, TPN">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='80'>ğŸ“…</text></svg>">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Menu hamburger -->
    <button class="menu-toggle" id="menuToggle" aria-label="Menu">
        <span class="hamburger"></span>
        <span class="hamburger"></span>
        <span class="hamburger"></span>
    </button>

    <!-- Menu latÃ©ral -->
    <nav class="side-menu" id="sideMenu">
        <div class="menu-header">
            <h3>Menu</h3>
            <button class="menu-close" id="menuClose">Ã—</button>
        </div>
        
        <div class="menu-content">
            <!-- Navigation rapide -->
            <div class="menu-section">
                <h4>ğŸ¯ Navigation</h4>
                <button class="menu-item" data-action="scrollToNext">
                    <span class="menu-icon">â°</span>
                    <span class="menu-text">Prochain examen</span>
                </button>
                <button class="menu-item" data-action="scrollToList">
                    <span class="menu-icon">ğŸ“‹</span>
                    <span class="menu-text">Liste des examens</span>
                </button>
                <button class="menu-item" data-action="scrollToCalendar">
                    <span class="menu-icon">ğŸ“…</span>
                    <span class="menu-text">Vue calendrier</span>
                </button>
            </div>

            <!-- AccÃ¨s rapide aux cours -->
            <div class="menu-section">
                <h4>ğŸŒ Liens des cours</h4>
                <div id="menuQuickLinks" class="menu-links">
                    <div class="menu-loading">Chargement...</div>
                </div>
            </div>

            <!-- Filtres -->
            <div class="menu-section">
                <h4>ğŸ¯ Filtrer par UE</h4>
                <select id="menuUeFilter" class="menu-select">
                    <option value="">Toutes les UE</option>
                </select>
            </div>

            <!-- Actions -->
            <div class="menu-section">
                <h4>âš¡ Actions rapides</h4>
                <button class="menu-item" data-action="toggleView">
                    <span class="menu-icon">ğŸ”„</span>
                    <span class="menu-text">Changer de vue</span>
                </button>
                <button class="menu-item" data-action="resetFilter">
                    <span class="menu-icon">ğŸ”</span>
                    <span class="menu-text">RÃ©initialiser les filtres</span>
                </button>
            </div>
        </div>

        <div class="menu-footer">
            <p>ğŸ“ DÃ©veloppÃ© par <strong>Siyaman Mohamad</strong></p>
        </div>
    </nav>

    <!-- Overlay pour fermer le menu -->
    <div class="menu-overlay" id="menuOverlay"></div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ğŸ“… Calendrier Master 1</h1>
            <p>Tes examens, CC et TPN en un coup d'Å“il</p>
        </div>

        <!-- Prochain examen avec timer -->
        <div class="card next-exam" id="nextExamCard">
            <h2>ğŸ¯ Prochain examen</h2>
            <div id="nextExamContent">
                <div class="empty-state">
                    <div class="icon">ğŸ“š</div>
                    <p>Aucun examen programmÃ©</p>
                </div>
            </div>
        </div>

        <!-- Filtres et vue -->
        <div class="card">
            <div style="display: flex; flex-direction: column; gap: 15px; align-items: center;">
                <!-- Filtre par UE -->
                <div class="filter-section">
                    <label for="ueFilter" style="font-weight: 600; margin-right: 10px;">ğŸ¯ Filtrer par UE:</label>
                    <select id="ueFilter" style="padding: 8px 12px; border-radius: 8px; border: 2px solid var(--border); background: var(--surface); color: var(--text); font-size: 0.9rem;">
                        <option value="">Toutes les UE</option>
                    </select>
                </div>
                
                <!-- SÃ©lecteur de vue -->
                <div class="view-selector">
                    <button class="view-btn active" id="listViewBtn">ğŸ“‹ Liste</button>
                    <button class="view-btn" id="calendarViewBtn">ğŸ“… Calendrier</button>
                </div>
            </div>
        </div>

        <!-- Vue Liste -->
        <div class="card" id="listView">
            <h2>ğŸ“‹ Tous les examens</h2>
            <div id="examsList">
                <!-- Les examens seront affichÃ©s ici -->
            </div>
        </div>

        <!-- Vue Calendrier -->
        <div class="card" id="calendarView" style="display: none;">
            <div class="calendar-header">
                <button class="nav-btn" id="prevMonth">â—€</button>
                <h2 id="currentMonth">Octobre 2025</h2>
                <button class="nav-btn" id="nextMonth">â–¶</button>
            </div>
            <div class="calendar-grid" id="calendarGrid">
                <!-- Le calendrier sera gÃ©nÃ©rÃ© ici -->
            </div>
            <div class="calendar-legend">
                <div class="legend-item"><span class="legend-dot type-cc"></span> CC</div>
                <div class="legend-item"><span class="legend-dot type-examen"></span> Examen</div>
                <div class="legend-item"><span class="legend-dot type-tpn"></span> TPN</div>
                <div class="legend-item"><span class="legend-dot type-tp"></span> TP</div>
            </div>
        </div>
    </div>

    <!-- Modal pour les dÃ©tails d'examen -->
    <div class="modal-overlay" id="examModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">DÃ©tails de l'examen</h3>
                <button class="modal-close" id="modalClose">Ã—</button>
            </div>
            <div class="modal-type" id="modalType">CC</div>
            <div class="modal-info" id="modalInfo">
                <!-- Les dÃ©tails seront injectÃ©s ici -->
            </div>
            <div class="countdown-display" id="modalCountdown">
                <div class="countdown-label">Temps restant</div>
                <div class="countdown-value" id="modalCountdownValue">--</div>
            </div>
        </div>
    </div>

    <!-- Avertissement discret -->
    <div class="disclaimer">
        <p>ğŸ“ DÃ©veloppÃ© par <strong>Siyaman Mohamad</strong> â€¢ Les dates peuvent Ãªtre erronÃ©es ou prendre du temps Ã  se mettre Ã  jour (mise Ã  jour manuelle)</p>
        <p class="last-update">ğŸ•’ DerniÃ¨re mise Ã  jour : <span id="lastUpdateDate">11 octobre 2025</span></p>
    </div>

    <!-- Scripts -->
    <script src="examManager.js"></script>
    <script src="calendarManager.js"></script>
    <script src="app.js"></script>
</body>
</html>