<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📅 Calendrier Master 1</title>
    <meta name="description" content="Calendrier d'examens Master 1 - CC, Examens, TPN">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='80'>📅</text></svg>">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>📅 Calendrier Master 1</h1>
            <p>Tes examens, CC et TPN en un coup d'œil</p>
        </div>

        <!-- Prochain examen avec timer -->
        <div class="card next-exam" id="nextExamCard">
            <h2>🎯 Prochain examen</h2>
            <div id="nextExamContent">
                <div class="empty-state">
                    <div class="icon">📚</div>
                    <p>Aucun examen programmé</p>
                </div>
            </div>
        </div>

        <!-- Info mise à jour -->
        <div class="card" style="text-align: center; background: linear-gradient(135deg, var(--accent) 0%, var(--primary) 100%); color: white;">
            <h3>📝 Gestion des examens</h3>
            <p>Les examens sont stockés dans <strong>examens.json</strong></p>
            <details style="margin-top: 15px;">
                <summary style="cursor: pointer; font-weight: bold;">Comment modifier les examens ?</summary>
                <div style="text-align: left; background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; margin-top: 10px;">
                    <p><strong>1.</strong> Ouvrez le fichier <code>examens.json</code></p>
                    <p><strong>2.</strong> Modifiez les données selon ce format :</p>
                    <pre style="font-size: 0.8rem; background: rgba(0,0,0,0.2); padding: 10px; border-radius: 5px; overflow-x: auto;">
{
  "id": 6,
  "ue": "Nom de l'UE",
  "type": "CC", 
  "date": "2025-12-15",
  "time": "14:00",
  "duration": 120,
  "location": "Amphi C"
}</pre>
                    <p><strong>Types disponibles :</strong> CC, EXAMEN, TPN, TP</p>
                    <p><strong>Format date :</strong> YYYY-MM-DD</p>
                    <p><strong>Format heure :</strong> HH:MM</p>
                </div>
            </details>
        </div>

        <!-- Sélecteur de vue -->
        <div class="card">
            <div class="view-selector">
                <button class="view-btn active" id="listViewBtn">📋 Liste</button>
                <button class="view-btn" id="calendarViewBtn">📅 Calendrier</button>
            </div>
        </div>

        <!-- Vue Liste -->
        <div class="card" id="listView">
            <h2>📋 Tous les examens</h2>
            <div id="examsList">
                <!-- Les examens seront affichés ici -->
            </div>
        </div>

        <!-- Vue Calendrier -->
        <div class="card" id="calendarView" style="display: none;">
            <div class="calendar-header">
                <button class="nav-btn" id="prevMonth">◀</button>
                <h2 id="currentMonth">Octobre 2025</h2>
                <button class="nav-btn" id="nextMonth">▶</button>
            </div>
            <div class="calendar-grid" id="calendarGrid">
                <!-- Le calendrier sera généré ici -->
            </div>
            <div class="calendar-legend">
                <div class="legend-item"><span class="legend-dot type-cc"></span> CC</div>
                <div class="legend-item"><span class="legend-dot type-examen"></span> Examen</div>
                <div class="legend-item"><span class="legend-dot type-tpn"></span> TPN</div>
                <div class="legend-item"><span class="legend-dot type-tp"></span> TP</div>
            </div>
        </div>
    </div>

    <!-- Modal pour les détails d'examen -->
    <div class="modal-overlay" id="examModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle">Détails de l'examen</h3>
                <button class="modal-close" id="modalClose">×</button>
            </div>
            <div class="modal-type" id="modalType">CC</div>
            <div class="modal-info" id="modalInfo">
                <!-- Les détails seront injectés ici -->
            </div>
            <div class="countdown-display" id="modalCountdown">
                <div class="countdown-label">Temps restant</div>
                <div class="countdown-value" id="modalCountdownValue">--</div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="examManager.js"></script>
    <script src="calendarManager.js"></script>
    <script src="app.js"></script>
</body>
</html>